const translations = {
    es: {
        metaTitle: "Portafolio de Pedro Mena",
        metaDescription: "Portafolio de Pedro Mena - QA Tester, DevOps, IA y Machine Learning, Soporte IT, Desarrollador Backend. Explora mis proyectos y experiencias.",
        
        navHome: "Inicio",
        navAbout: "Acerca de",
        navEducation: "Educación y Experiencia",
        navSkills: "Habilidades",
        navProjects: "Proyectos",
        navContact: "Contacto",

        homeName: "Pedro Mena",
        homeTitle: "QA Tester | DevOps | IA y Machine Learning | Soporte IT | Desarrollador Backend",
        homeButton: "Ver mi trabajo",

        aboutTitle: "Acerca de Mí",
        aboutText: "Soy un entusiasta apasionado de la tecnología, siempre ansioso por explorar nuevas ideas y convertirlas en experiencias significativas. Disfruto trabajando en proyectos ambiciosos y creativos que me desafían a crecer, pensar de manera diferente y seguir aprendiendo cada día.",

        educationTitle: "Educación y Experiencia",
        hsDiplomaTitle: "Bachillerato de Ciencias",
        hsDiplomaDate: "2018 – 2020 | IES Carlos III, Toledo",
        hsDiplomaDesc: "Bachillerato científico con enfoque en matemáticas, física y fundamentos de informática.",
        bachelorDegreeTitle: "Grado en Ingeniería Informática",
        bachelorDegreeDate: "2020 – 2025 | Universidad de Castilla-La Mancha (UCLM)",
        bachelorDegreeDesc: "Formación integral en algoritmos, estructuras de datos, ingeniería de software, bases de datos, ciberseguridad e inteligencia artificial.",
        uclmInternTitle: "Becario en Tecnologías de la Información - UCLM",
        uclmInternDate: "Enero 2022 – Diciembre 2023",
        uclmInternDesc: "Colaboré en el aprovisionamiento, mantenimiento y actualización de equipos para uso personal y aulas. Asistí con problemas de red, videoconferencias e incidentes relacionados con las TIC. Obtuve experiencia práctica en operaciones de TI y soporte organizacional.",
        cajaRuralTitle: "Ingeniero de Soporte IT - Caja Rural de Toledo",
        cajaRuralDate: "Julio 2024 – Septiembre 2024",
        cajaRuralDesc: "Proporcioné soporte técnico, mantenimiento de sistemas y resolución de problemas para usuarios finales. Adquirí experiencia en entornos de TI empresariales y servicio orientado al cliente.",
        zennioTitle:"Ingeniero de pruebas funcionales - Zennio",
        zennioDate:"Septiembre 2025 - Hoy",
        zennioDesc:"Responsable de evaluar y garantizar la calidad de los productos de software durante su ciclo de producción.",

        skillsTitle: "Habilidades",
        skillsDevOpsTitle: "DevOps y Nube",
        skillCICD: "CI/CD",
        skillGit: "Git",
        skillsProgrammingTitle: "Lenguajes de Programación y Frameworks",
        skillPython: "Python",
        skillNodejs: "Node.js",
        skillJava: "Java",
        skillCpp: "C++",
        skillDart: "Dart",
        skillFlutter: "Flutter",
        skillsDatabasesTitle: "Bases de Datos y Gestión de Datos",
        skillSQL: "SQL",
        skillNoSQL: "NoSQL",
        skillPostgreSQL: "PostgreSQL",
        skillMongoDB: "MongoDB",
        skillFirebase: "Firebase",
        skillsAITitle: "IA y Machine Learning",
        skillML: "Machine Learning",
        skillDL: "Deep Learning",
        skillJira: "Jira",
        skillTrello: "Trello",
        skillsTestingTitle: "Testing y QA",
        skillJiraTesting: "Jira",
        skillSelenium: "Selenium",
        skillsSoftTitle: "Habilidades Blandas",
        skillProblemSolving: "Resolución de Problemas",
        skillTeamwork: "Trabajo en Equipo",
        skillCommunication: "Comunicación",
        skillAdaptability: "Adaptabilidad",

        // Projects Section
        projectsTitle: "Proyectos",
        projectDogAppTitle: "Fauna Club",
        projectDogAppDesc: "Aplicación móvil basada en Flutter para dueños, cuidadores y entrenadores de mascotas. Características: calendario, funciones en la nube, chat y mapa con funciones sociales.",
        projectSmartHomeTitle: "Sistema IoT de Monitoreo Ambiental Inteligente",
        projectSmartHomeDesc: "Este repositorio contiene los componentes esenciales para un sistema IoT diseñado para monitorear las condiciones ambientales y la presencia. Utiliza microcontroladores ESP32 para funcionalidades de detección y pasarela, y una Raspberry Pi como servidor central ejecutando un bróker MQTT.",
        projectNeuralNetTitle: "Sistema de Gestión para Ópticas",
        projectNeuralNetDesc: "Óptica Visión es un sistema de gestión basado en Odoo diseñado específicamente para ópticas. Optimiza diversas operaciones, desde la gestión de garantías y reparaciones de productos hasta la programación de revisiones de clientes y el mantenimiento de la información de la tienda.",
        projectLink: "Ver en GitHub",

        // Contact Section
        contactTitle: "Contáctame",
        contactSendEmail: "Enviar Correo",
        contactCallMe: "Llámame (+34 601 466 343)",

        // Footer
        footerCopyright: "© 2025 Pedro Mena Castellanos. Todos los derechos reservados."
    },
    en: {
        // Meta
        metaTitle: "Pedro Mena Portfolio",
        metaDescription: "Pedro Mena Portfolio - QA Tester, DevOps, AI & Machine Learning, IT Support, Backend Developer. Explore my projects and experiences.",
        
        // Navigation
        navHome: "Home",
        navAbout: "About",
        navEducation: "Education & Experience",
        navSkills: "Skills",
        navProjects: "Projects",
        navContact: "Contact",

        // Home Section
        homeName: "Pedro Mena",
        homeTitle: "QA Tester | DevOps | AI & Machine Learning | IT Support | Backend Developer",
        homeButton: "See My Work",

        // About Section
        aboutTitle: "About Me",
        aboutText: "I’m a passionate technology enthusiast, always eager to explore new ideas and turn them into meaningful experiences. I enjoy working on ambitious and creative projects that challenge me to grow, think differently, and keep learning every day.",

        // Education & Experience Section
        educationTitle: "Education & Experience",
        hsDiplomaTitle: "High School Diploma in Science",
        hsDiplomaDate: "2018 – 2020 | IES Carlos III, Toledo",
        hsDiplomaDesc: "Scientific baccalaureate with a focus on mathematics, physics, and computer science foundations.",
        bachelorDegreeTitle: "Bachelor's Degree in Computer Science",
        bachelorDegreeDate: "2020 – 2025 | University of Castilla-La Mancha (UCLM)",
        bachelorDegreeDesc: "Comprehensive training in algorithms, data structures, software engineering, databases, cybersecurity, and artificial intelligence.",
        uclmInternTitle: "Intern in Information Technologies - UCLM",
        uclmInternDate: "January 2022 – December 2023",
        uclmInternDesc: "Collaborated in provisioning, maintenance, and upgrade of equipment for personal use and classrooms. Assisted with network issues, video conferencing, and TIC-related incidents. Gained hands-on experience in IT operations and organizational support.",
        cajaRuralTitle: "IT Support Engineer - Caja Rural de Toledo",
        cajaRuralDate: "July 2024 – September 2024",
        cajaRuralDesc: "Provided technical support, system maintenance, and troubleshooting for end users. Gained experience in enterprise IT environments and client-oriented service.",
        zennioTitle:"Functional Test Engineer - Zennio",
        zennioDate:"September 2025 - Now",
        zennioDesc:"Responsible for evaluating and ensuring the quality of software products during their production cycle.",

        skillsTitle: "Skills",
        skillsDevOpsTitle: "DevOps & Cloud",
        skillCICD: "CI/CD",
        skillGit: "Git",
        skillsProgrammingTitle: "Programming Languages & Frameworks",
        skillPython: "Python",
        skillNodejs: "Node.js",
        skillJava: "Java",
        skillCpp: "C++",
        skillDart: "Dart",
        skillFlutter: "Flutter",
        skillsDatabasesTitle: "Databases & Data Management",
        skillSQL: "SQL",
        skillNoSQL: "NoSQL",
        skillPostgreSQL: "PostgreSQL",
        skillMongoDB: "MongoDB",
        skillFirebase: "Firebase",
        skillsAITitle: "AI & Machine Learning",
        skillML: "Machine Learning",
        skillDL: "Deep Learning",
        skillJira: "Jira",
        skillTrello: "Trello",
        skillsTestingTitle: "Testing & QA",
        skillJiraTesting: "Jira",
        skillSelenium: "Selenium",
        skillsSoftTitle: "Soft Skills",
        skillProblemSolving: "Problem Solving",
        skillTeamwork: "Teamwork",
        skillCommunication: "Communication",
        skillAdaptability: "Adaptability",

        projectsTitle: "Projects",
        projectDogAppTitle: "Fauna Club",
        projectDogAppDesc: "Flutter-based mobile app for pet owners, pet sitters and trainers. Features: calendar, cloud functions, chat, and map with social features.",
        projectSmartHomeTitle: "IoT Smart Environment Monitoring System",
        projectSmartHomeDesc: "This repository contains the essential components for an IoT system designed to monitor environmental conditions and presence. It leverages ESP32 microcontrollers for sensing and gateway functionalities, and a Raspberry Pi as a central server running an MQTT broker.",
        projectNeuralNetTitle: "Optical Store Management System",
        projectNeuralNetDesc: "Optica Vision is an Odoo-based management system designed specifically for optical stores. It streamlines various operations, from managing product warranties and repairs to scheduling customer revisions and maintaining store information.",
        projectLink: "View on GitHub",

        contactTitle: "Contact Me",
        contactSendEmail: "Send Email",
        contactCallMe: "Call Me (+34 601 466 343)",

        footerCopyright: "© 2025 Pedro Mena Castellanos. All rights reserved."
    }
};

function applyTranslations(lang) {
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName !== 'INPUT' && element.tagName !== 'TEXTAREA') {
                element.textContent = translations[lang][key];
            }
        }
    });

    document.querySelectorAll('[data-lang-placeholder-key]').forEach(element => {
        const placeholderKey = element.getAttribute('data-lang-placeholder-key');
        if (translations[lang] && translations[lang][placeholderKey]) {
            element.placeholder = translations[lang][placeholderKey];
        }
    });

    const metaDescription = document.querySelector('meta[name="description"]');
    if (metaDescription && translations[lang] && translations[lang]['metaDescription']) {
        metaDescription.setAttribute('content', translations[lang]['metaDescription']);
    }

    const metaTitle = document.querySelector('title');
    if (metaTitle && translations[lang] && translations[lang]['metaTitle']) {
        metaTitle.textContent = translations[lang]['metaTitle'];
    }
    
    document.documentElement.lang = lang;
}

document.addEventListener('DOMContentLoaded', () => {
    AOS.init({
        once: true,
        duration: 800,
        easing: 'ease-out'
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            const section = document.querySelector(this.getAttribute('href'));
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });

    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'green') {
        document.body.classList.add('green-theme');
    }

    const flagIcons = document.querySelectorAll('.flag-icon');
    
    const savedLang = localStorage.getItem('lang') || 'en';

    applyTranslations(savedLang);

    flagIcons.forEach(flag => {
        if (flag.getAttribute('data-lang') === savedLang) {
            flag.classList.add('active-lang');
        } else {
            flag.classList.remove('active-lang');
        }
    });

    flagIcons.forEach(flag => {
        flag.addEventListener('click', (e) => {
            const selectedLang = e.target.getAttribute('data-lang');
            
            applyTranslations(selectedLang);
            
            localStorage.setItem('lang', selectedLang);

            flagIcons.forEach(f => f.classList.remove('active-lang'));
            e.target.classList.add('active-lang');
        });
    });
});

function toggleTheme() {
    document.body.classList.toggle('green-theme');
    if (document.body.classList.contains('green-theme')) {
        localStorage.setItem('theme', 'green');
    } else {
        localStorage.setItem('theme', 'default');
    }
}